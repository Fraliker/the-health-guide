<ion-header>

  <ion-navbar>
    <ion-title>Recipe details</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="saveRecipe()">
        <ion-icon name="sync"></ion-icon>
      </button>
      <button ion-button icon-only (click)="removeRecipe()">
        <ion-icon name="trash"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
  <ion-toolbar>
    <ion-segment [(ngModel)]="recipeDetails" (click)="segmentChange()">
      <ion-segment-button value="details">
        <ion-icon name="book"></ion-icon>
      </ion-segment-button>
      <ion-segment-button value="ingredients">
        <ion-icon name="bookmarks"></ion-icon>
      </ion-segment-button>
      <ion-segment-button value="nutrition">
        <ion-icon name="nutrition"></ion-icon>
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>


<ion-content padding>
  <div [ngSwitch]="recipeDetails">

    <!-- Start of segment -->
    <div *ngSwitchCase="'details'">
      <ion-list>
        <ion-item text-wrap>
          <ion-label fixed>Name</ion-label>
          <ion-input type="text" [(ngModel)]="recipe.name"></ion-input>
        </ion-item>
        <ion-item text-wrap>
          <ion-label fixed>Portions</ion-label>
          <ion-input type="number" [(ngModel)]="recipe.portions" (blur)="changePortions()"></ion-input>
        </ion-item>
        <ion-item>
          pH
          <p item-content ion-text color="{{ recipe.pral > 0 ? 'danger' : 'secondary' }}">{{ recipe.pral > 0 ? 'Acid forming' : 'Alkaline forming'}}</p>
        </ion-item>
        <ion-item>
          Size
          <p item-content ion-text color="{{ recipe.quantity > 750 ? 'danger' : 'secondary' }}">{{ recipe.quantity }} g</p>
        </ion-item>
      </ion-list>
    </div>
    <!-- End of segment -->

    <!-- Start of segment -->
    <div *ngSwitchCase="'ingredients'">
      <ion-list>
        <ion-item *ngFor="let item of recipe.ingredients; let i = index">
          <ion-icon color="danger" name="trash" item-left (click)="removeIngredient(i)"></ion-icon>
          <h2 text-wrap>{{ item.name }}</h2>
          <p text-wrap>{{ item.quantity }} {{ item.unit }}</p>
          <p item-content (click)="changeServings(item)">{{ item.servings }} servings</p>
        </ion-item>

      </ion-list>
      <ion-fab bottom right>
        <button ion-fab color="secondary" (click)="addIngredients()"><ion-icon name="add"></ion-icon></button>
      </ion-fab>
    </div>
    <!-- End of segment -->

    <!-- Start of segment -->
    <div *ngSwitchCase="'nutrition'">
      <ion-item-group>
        <ion-item>
          Energy
          <p item-content>{{ recipe.nutrition.energy?.value }} {{ recipe.nutrition.energy?.unit }}</p>
        </ion-item>
        <ion-item-divider>Macronutrients</ion-item-divider>
        <ion-item>
          Protein
          <p item-content>{{ recipe.nutrition.protein?.value }} {{ recipe.nutrition.protein?.unit }}</p>
        </ion-item>
        <ion-item>
          Fats
          <p item-content>{{ recipe.nutrition.fats?.value }} {{ recipe.nutrition.fats?.unit }}</p>
        </ion-item>
        <ion-item>
          Carbohydrates
          <p item-content>{{ recipe.nutrition.carbs?.value }} {{ recipe.nutrition.carbs?.unit }}</p>
        </ion-item>
        <ion-item>
          Fiber
          <p item-content>{{ recipe.nutrition.fiber?.value }} {{ recipe.nutrition.fiber?.unit }}</p>
        </ion-item>
        <ion-item>
          Water
          <p item-content>{{ recipe.nutrition.water?.value }} {{ recipe.nutrition.water?.unit }}</p>
        </ion-item>
      </ion-item-group>

      <ion-item-group>
        <ion-item-divider>Essential amino acids</ion-item-divider>
        <ion-item>
          Histidine
          <p item-content>{{ recipe.nutrition.histidine?.value }} {{ recipe.nutrition.histidine?.unit }}</p>
        </ion-item>
        <ion-item>
          Isoleucine
          <p item-content>{{ recipe.nutrition.isoleucine?.value }} {{ recipe.nutrition.isoleucine?.unit }}</p>
        </ion-item>
        <ion-item>
          Leucine
          <p item-content>{{ recipe.nutrition.leucine?.value }} {{ recipe.nutrition.leucine?.unit }}</p>
        </ion-item>
        <ion-item>
          Lysine
          <p item-content>{{ recipe.nutrition.lysine?.value }} {{ recipe.nutrition.lysine?.unit }}</p>
        </ion-item>
        <ion-item>
          Methionine
          <p item-content>{{ recipe.nutrition.methionine?.value }} {{ recipe.nutrition.methionine?.unit }}</p>
        </ion-item>
        <ion-item>
          Phenylalanine
          <p item-content>{{ recipe.nutrition.phenylalanine?.value }} {{ recipe.nutrition.phenylalanine?.unit }}</p>
        </ion-item>
        <ion-item>
          Threonine
          <p item-content>{{ recipe.nutrition.threonine?.value }} {{ recipe.nutrition.threonine?.unit }}</p>
        </ion-item>
        <ion-item>
          Tryptophan
          <p item-content>{{ recipe.nutrition.tryptophan?.value }} {{ recipe.nutrition.tryptophan?.unit }}</p>
        </ion-item>
      </ion-item-group>

      <ion-item-group>
        <ion-item-divider>Essential vitamins</ion-item-divider>
        <ion-item>
          Vitamin A
          <p item-content>{{ recipe.nutrition.vitaminA?.value }} {{ recipe.nutrition.vitaminA?.unit }}</p>
        </ion-item>
        <ion-item>
          Vitamin B1 (Thiamine)
          <p item-content>{{ recipe.nutrition.vitaminB1?.value }} {{ recipe.nutrition.vitaminB1?.unit }}</p>
        </ion-item>
        <ion-item>
          Vitamin B2 (Riboflavin)
          <p item-content>{{ recipe.nutrition.vitaminB2?.value }} {{ recipe.nutrition.vitaminB2?.unit }}</p>
        </ion-item>
        <ion-item>
          Vitamin B3 (Niacin)
          <p item-content>{{ recipe.nutrition.vitaminB3?.value }} {{ recipe.nutrition.vitaminB3?.unit }}</p>
        </ion-item>
        <ion-item>
          Vitamin B5 (Pantothenic acid)
          <p item-content>{{ recipe.nutrition.vitaminB5?.value }} {{ recipe.nutrition.vitaminB5?.unit }}</p>
        </ion-item>
        <ion-item>
          Vitamin B6 (Pyridoxine)
          <p item-content>{{ recipe.nutrition.vitaminB6?.value }} {{ recipe.nutrition.vitaminB6?.unit }}</p>
        </ion-item>
        <ion-item>
          Vitamin B9 (Folate)
          <p item-content>{{ recipe.nutrition.vitaminB9?.value }} {{ recipe.nutrition.vitaminB9?.unit }}</p>
        </ion-item>
        <ion-item>
          Vitamin B12 (Cobalamin)
          <p item-content>{{ recipe.nutrition.vitaminB12?.value }} {{ recipe.nutrition.vitaminB12?.unit }}</p>
        </ion-item>
        <ion-item>
          Choline
          <p item-content>{{ recipe.nutrition.choline?.value }} {{ recipe.nutrition.choline?.unit }}</p>
        </ion-item>
        <ion-item>
          Vitamin C (Ascorbic acid)
          <p item-content>{{ recipe.nutrition.vitaminC?.value }} {{ recipe.nutrition.vitaminC?.unit }}</p>
        </ion-item>
        <ion-item>
          Vitamin D (Cholecalciferol)
          <p item-content>{{ recipe.nutrition.vitaminD?.value }} {{ recipe.nutrition.vitaminD?.unit }}</p>
        </ion-item>
        <ion-item>
          Vitamin E (Tocopherol)
          <p item-content>{{ recipe.nutrition.vitaminE?.value }} {{ recipe.nutrition.vitaminE?.unit }}</p>
        </ion-item>
        <ion-item>
          Vitamin K
          <p item-content>{{ recipe.nutrition.vitaminK?.value }} {{ recipe.nutrition.vitaminK?.unit }}</p>
        </ion-item>
      </ion-item-group>

      <ion-item-group>
        <ion-item-divider>Essential minerals</ion-item-divider>
        <ion-item>
          Calcium
          <p item-content>{{ recipe.nutrition.calcium?.value }} {{ recipe.nutrition.calcium?.unit }}</p>
        </ion-item>
        <ion-item>
          Copper
          <p item-content>{{ recipe.nutrition.copper?.value }} {{ recipe.nutrition.copper?.unit }}</p>
        </ion-item>
        <ion-item>
          Iron
          <p item-content>{{ recipe.nutrition.iron?.value }} {{ recipe.nutrition.iron?.unit }}</p>
        </ion-item>
        <ion-item>
          Magnesium
          <p item-content>{{ recipe.nutrition.magnesium?.value }} {{ recipe.nutrition.magnesium?.unit }}</p>
        </ion-item>
        <ion-item>
          Manganese
          <p item-content>{{ recipe.nutrition.manganese?.value }} {{ recipe.nutrition.manganese?.unit }}</p>
        </ion-item>
        <ion-item>
          Phosphorus
          <p item-content>{{ recipe.nutrition.phosphorus?.value }} {{ recipe.nutrition.phosphorus?.unit }}</p>
        </ion-item>
        <ion-item>
          Potassium
          <p item-content>{{ recipe.nutrition.Potassium?.value }} {{ recipe.nutrition.Potassium?.unit }}</p>
        </ion-item>
        <ion-item>
          Selenium
          <p item-content>{{ recipe.nutrition.selenium?.value }} {{ recipe.nutrition.selenium?.unit }}</p>
        </ion-item>
        <ion-item>
          Sodium
          <p item-content>{{ recipe.nutrition.sodium?.value }} {{ recipe.nutrition.sodium?.unit }}</p>
        </ion-item>
        <ion-item>
          Zinc
          <p item-content>{{ recipe.nutrition.zinc?.value }} {{ recipe.nutrition.zinc?.unit }}</p>
        </ion-item>
      </ion-item-group>

      <ion-item-group>
        <ion-item-divider>Essential fatty acids</ion-item-divider>
        <ion-item>
          Omega-3 (ALA)
          <p item-content>{{ recipe.nutrition.ala?.value }} {{ recipe.nutrition.ala?.unit }}</p>
        </ion-item>
        <ion-item>
          Omega-3 (DHA)
          <p item-content>{{ recipe.nutrition.dha?.value }} {{ recipe.nutrition.dha?.unit }}</p>
        </ion-item>
        <ion-item>
          Omega-3 (EPA)
          <p item-content>{{ recipe.nutrition.epa?.value }} {{ recipe.nutrition.epa?.unit }}</p>
        </ion-item>
        <ion-item>
          Omega-6 (LA)
          <p item-content>{{ recipe.nutrition.la?.value }} {{ recipe.nutrition.la?.unit }}</p>
        </ion-item>
      </ion-item-group>

      <ion-item-group>
        <ion-item-divider>Non-essential nutrients</ion-item-divider>
        <ion-item>
          Alcohol
          <p item-content>{{ recipe.nutrition.alcohol?.value }} {{ recipe.nutrition.alcohol?.unit }}</p>
        </ion-item>
        <ion-item>
          Caffeine
          <p item-content>{{ recipe.nutrition.caffeine?.value }} {{ recipe.nutrition.caffeine?.unit }}</p>
        </ion-item>
        <ion-item>
          Trans fat
          <p item-content>{{ recipe.nutrition.transFat?.value }} {{ recipe.nutrition.transFat?.unit }}</p>
        </ion-item>
        <ion-item>
          Sugars
          <p item-content>{{ recipe.nutrition.sugars?.value }} {{ recipe.nutrition.sugars?.unit }}</p>
        </ion-item>
      </ion-item-group>
    </div>
    <!-- End of segment -->
  </div>
</ion-content>